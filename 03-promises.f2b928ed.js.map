{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,WAAYC,SAASC,cAAc,qBACnCC,UAAWF,SAASC,cAAc,oBAClCE,YAAaH,SAASC,cAAc,sBACpCG,gBAAiBJ,SAASC,cAAc,UACxCI,OAAQL,SAASC,cAAc,SAyDjC,SAASK,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACvBL,EACFI,EAAQ,CAAEN,WAAUC,UAEpBM,EAAO,CAAEP,WAAUC,S,IA1DzBV,EAAKO,OAAOU,iBAAiB,UAAU,SAAAC,GAIrC,GAFAA,EAAEC,kBAEGnB,EAAKK,YAAYe,MAAQ,IAAMpB,EAAKI,UAAUgB,MAAQ,IAAMpB,EAAKC,WAAWmB,MAAQ,EACvFtB,EAAAuB,OAAOC,QAAS,uCAGb,GAA6B,GAA1BtB,EAAKK,YAAYe,MACvBtB,EAAAuB,OAAOC,QAAQ,iCAEZ,CACH,IAAIC,EAAaC,OAAOxB,EAAKC,WAAWmB,OACpCK,EAAOD,OAAOxB,EAAKI,UAAUgB,OAC7BM,EAASF,OAAOxB,EAAKK,YAAYe,OACjCO,EAAmBJ,EACnBK,EAAiB,EAErBC,YAAW,W,kBAUPD,GAAkBH,EAClBI,YAAW,WAGTrB,EAAcsB,EAFdH,GAAoBF,GAGjBM,MAAK,SAAAC,G,IAAGvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,MACjBZ,EAAAuB,OAAOY,QAAQ,uBAAwCC,OAAfzB,EAAS,QAAYyB,OAANxB,EAAM,M,IAE9DyB,OAAM,SAAAH,G,IAAGvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,MAClBZ,EAAAuB,OAAOe,QAAQ,sBAAqCF,OAAfzB,EAAS,QAAYyB,OAANxB,EAAM,M,MAE7DkB,GAECE,IAAMJ,IACRC,EAAmBJ,EACnBK,EAAiB,E,EAxBrBpB,EAAc,EAAGe,GACdQ,MAAK,SAAAC,G,IAAGvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,MACjBZ,EAAAuB,OAAOY,QAAQ,uBAAwCC,OAAfzB,EAAS,QAAYyB,OAANxB,EAAM,M,IAE9DyB,OAAM,SAAAH,G,IAAGvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,MAClBZ,EAAAuB,OAAOe,QAAQ,sBAAuCF,OAAfzB,EAAS,QAAYyB,OAANxB,EAAM,M,IAGhE,IAAK,IAAI2B,EAAI,EAAGA,GAAKX,EAAQW,IAAGC,EAAAD,E,GAmB/Bd,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  inputDelay: document.querySelector('input[name=delay]'),\n  inputStep: document.querySelector('input[name=step]'),\n  inputAmount: document.querySelector('input[name=amount]'),\n  creatPromiseBtn: document.querySelector('button'),\n  formEl: document.querySelector('form'),\n};\n\n\n\nrefs.formEl.addEventListener('submit', e => {\n\n  e.preventDefault();\n\n  if (+refs.inputAmount.value < 0 || +refs.inputStep.value < 0 || +refs.inputDelay.value < 0) {\n    Notify.warning(`All values ​​must be positive!`);\n    return\n  }\n  else if(refs.inputAmount.value == 0) {\n    Notify.warning('Write amount more then 0!')\n  }\n  else {\n    let firstDelay = Number(refs.inputDelay.value);\n    let step = Number(refs.inputStep.value);\n    let amount = Number(refs.inputAmount.value);\n    let messageIncrement = firstDelay;\n    let delayIncrement = 0;\n\n    setTimeout(() => {\n      createPromise(1, firstDelay)\n        .then(({ position, delay }) => {\n          Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        });\n\n      for (let i = 2; i <= amount; i++) {\n        delayIncrement += step;\n        setTimeout(() => {\n          messageIncrement += step;\n\n          createPromise(i, messageIncrement)\n            .then(({ position, delay }) => {\n              Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n            })\n            .catch(({ position, delay }) => {\n              Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n            });\n        }, delayIncrement);\n\n        if (i === amount) {\n          messageIncrement = firstDelay;\n          delayIncrement = 0;\n        }\n      }\n    }, firstDelay);\n  }\n\n  \n});\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","inputDelay","document","querySelector","inputStep","inputAmount","creatPromiseBtn","formEl","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","e","preventDefault","value","Notify","warning","firstDelay","Number","step","amount","messageIncrement","delayIncrement","setTimeout","i","then","param","success","concat","catch","failure","i1","_loop"],"version":3,"file":"03-promises.f2b928ed.js.map"}